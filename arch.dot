digraph "Aeon K12 FPGA Miner Architecture"
{
	labelloc="t";
	label="Aeon K12 FPGA Miner Architecture";
	rankdir=TD
	node [shape=box]
	pow [label="K12 PoW Cores"]
	nc [label="Nonce Scanning Controller"]
	cfsm [label="Control Finite State Machine"]
	uart [label="UART I/O"]
	fifo [label="I/O FIFO"]
	isr [label="PoW Input Shift Register"]
	osr [label="Output Shift Register"]

	frontend [label="FPGA Mining Frontend"]
	host_uart [label="Host UART"]

	subgraph cluster_fpga {
	    label = "FPGA";

		uart -> fifo [dir=both]
		fifo -> cfsm [dir=both]
		fifo -> isr
		cfsm -> isr
		isr -> nc
		cfsm -> nc [dir=both]
		nc -> pow [dir=both]
		nc -> osr
		osr -> fifo
	}
	subgraph cluster_host {
	    label = "HOST";

		frontend -> host_uart [dir=both]
		host_uart -> uart [dir=both]
	}

}
