digraph "Aeon K12 FPGA Miner Architecture"
{
	labelloc="t";
	label="Aeon K12 FPGA Miner Architecture";
	rankdir=TD
	node [shape=box]
	pow [label="K12 PoW Cores (x7)"]
	nsc [label="Nonce Scanning Controller"]
	cfsm [label="Control Finite State Machine"]
	uart [label="UART I/O"]
	fifo [label="Nonce & Hash FIFO"]
	bisr [label="Blob Input Shift Register"]
	nhsr [label="Nonce & Hash Shift Register"]
	gctr [label="Global Nonce Counter"]

	frontend [label="FPGA Mining Frontend"]
	host_uart [label="Host UART"]

	subgraph cluster_fpga {
		label = "FPGA";

		uart -> cfsm [dir=both]
		cfsm -> bisr
		uart -> bisr
		bisr -> nsc
		nsc -> pow [dir=both]
		pow -> fifo
		fifo -> nhsr
		nhsr -> cfsm
		gctr -> pow
	}
	subgraph cluster_host {
		label = "HOST";

		frontend -> host_uart [dir=both]
		host_uart -> uart [dir=both]
	}
}
